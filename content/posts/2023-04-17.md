---
tags: ['control']
comments: true
date: "2023-04-17"
title: Structural Design and Material Choice for Robot Components
math: katex
---

## The Problem

Let's say we need to design a structural section of a robot arm, as shown.

![](/images/2023-04-17/arm-diagram.png)

We've been given a few requirements:
- The mass of the component must be minimized at all costs.
- The length of the link must be 300 mm.
- The maximum allowed deflection (caused by the component) is 1 mm.
- The combined mass of the maximum payload and end-effector is 30 kg.
- The combined center of mass of the payload and end-effector is 50 mm from the joint.
- Both the base and end-effector joints can rotate in any axis.

We are allowed to make the following assumptions to make our job easier:
- We can assume that the arm does not move dynamically, so that our analysis can be static-only.
- We can assume that the end-effector itself does not deflect or deform.

So how do we optimally meet these requirements?

## Abstraction

Let's start by simplifying the situation by only looking at the worst-case scenario, as shown. In this case, maximum bending moment will be acting along the length of the arm and maximum torsion will be acting on it in the axial direction.

![](/images/2023-04-17/arm-diagram-perp.png)

Let's redraw it as a cantilever beam.

![](/images/2023-04-17/cantilever-force.png)

Remember what we know from the requirements:

1. $L_x = 300 \text{ mm}$
2. $L_y = 50 \text{ mm}$
3. $m = 30 \text{ kg}$

## Choice of Cross-Section

Choosing the cross-sectional shape of a cantilever beam is all about maximizing your second moment of area, a major determining factor in both stiffness and strength. On the other hand, you'll also want to minimize cross-sectional area to ensure that the mass of the beam is as low as possible.

How do we maximize second moment of area while minimizing cross-sectional area? Well, second moment of area can be maximized by locating as much of the shape as far away from the neutral axis as possible, whereas area can be minimized by squeezing that shape into a thin band.

When bending is expected to occur in only one axis, the best solution is an I-beam. But because this section of the arm has powered rotation about its longitudinal axis, the beam must be able to support an equal load in any direction perpendicular to its length. As such, the cross-sectional shape of choice is a hollow circle, which has the best ratio of second moment of area to area when considering any neutral axis angle.

[![Annulus](/images/2023-04-17/annulus.png)](https://en.wikipedia.org/wiki/File:Moment_of_area_of_an_annulus.svg)

Area of a hollow circle:
$$
\begin{equation}
A = \pi(R^2 - r^2)
\end{equation} 
$$

Second moment of area of a hollow circle:
$$ \begin{equation}
I = \frac{\pi}{4} (R^4 - r^4)
\end{equation} $$

Second polar moment of area of a hollow circle:
$$ \begin{equation}
J = \frac{\pi}{2} (R^4 - r^4)
\end{equation} $$

## Equations

Now that we've simplified the problem down to a cantilever beam with a hollow cylindrical cross-section, we can use several equations that will describe deflection and stress acting on the system.

### Shear Stress
Max shear stress for a beam with a thin-walled tube*
$$ \begin{equation}
\tau_{beam, max} = \frac{2 F}{A} = \frac{2 F}{\pi (R^2 - r^2)}
\end{equation} $$

Shear stress due to torsion for a circular shaft*
$$ \begin{equation}
\tau_{torsion} = \frac{M_x R}{J} = \frac{F L_y R}{\frac{\pi}{2} (R^4 - r^4)}
\end{equation} $$

Max shear stress for a thin-walled tube with downward force and torsion
$$ \begin{equation}
\tau_{max} = \tau_{torsion} + \tau_{beam, max}
\end{equation} $$

### Tensile Stress
Max tensile stress for a beam due to bending*
$$ \begin{equation}
\sigma_{beam, max} = \frac{M_y c}{I} = \frac{F L_x R}{\frac{\pi}{4} (R^4 - r^4)}
\end{equation} $$

### Deflection

![Deflection of a cantilever beam](/images/2023-04-17/deflection.png)

Deflection of a cantilever beam due to a force on the tip**
$$ \begin{equation}
\delta_{max} = \frac{F L_x^3}{3 E I} = \frac{F L_x^3}{3 E \frac{\pi}{4} (R^4 - r^4)}
\end{equation} $$

*[BasicStressEqns-DBWallace.pdf](http://faculty.fairfield.edu/wdornfeld/ME311/BasicStressEqns-DBWallace.pdf)

**[FE Reference Handbook, 9.4 Edition](https://www.cee.msstate.edu/wp-content/NCEES%20FE%20Reference%20Manual%20-%202018.pdf)

## Optimization

To evaluate this problem holistically, I've characterized it as an optimization problem. Our objective is to minimize the cross-sectional area (which is proportional to $R^2 - r^2$) as a function of $R$ and $r$.

{{< katex >}} 
$$
\begin{align}
    \min_{R,r} \quad & R^2 - r^2 \\
    \textrm{s.t.} \quad 
    & \frac{F L_y R}{\frac{\pi}{2} (R^4 - r^4)} + \frac{2 F}{\pi (R^2 - r^2)} - \tau_{yield} \leq 0 \\
    & F L_x R - \frac{\pi}{4} (R^4 - r^4)\sigma_{yield} \leq 0 \\
    & F L_x^3 - 3 E \frac{\pi}{4} (R^4 - r^4)\delta_{limit} \leq 0   \\
    & r - R + t_{min} \leq 0 \\
    & 0.01 \leq R \leq 0.075 \\
    & 0.01 \leq r \leq 0.075
\end{align}
$$
{{< /katex >}} 

Where:
- (10) is the shear stress constraint.
- (11) is the bending stress constraint.
- (12) is the deflection constraint.
- (13) limits the minimum wall thickness.
- (14) and (15) define the min/max dimensions.


But before we can see how this performs, we need to choose the material.


## Materials
Let's look at three of the most popular materials when it comes to lightweight structural design: titanium, aluminum, and CFRP. There's a reason these are the top three: strength-to-weight ratio, AKA specific strength.

However, as I'll be showing in this post, strength-to-weight ratio alone cannot be used to select the best material for the situation. There's a whole host of considerations that go into this choice on the theoretical side alone--and there are arguably even more practical considerations than theoretical ones, which I'll only be mentioning in passing.

| Material      | Young's Modulus (Pa) | Shear Str (Pa) | Yield Str (Pa) | Density (kg/m^3) |
| -----------   | -----------          | -----------    | -----------    | -----------      |
| [Annealed Grade 5 Titanium](https://www.makeitfrom.com/material-properties/Annealed-Grade-5-Titanium) | 110e9    | 600e6          | 910e6          | 4430             |
| [CFRP Tube, 0/90 Ply](http://www.performance-composites.com/carbonfibre/mechanicalproperties_2.asp)       | 517e9    | 90e6           | 600e6          | 1522             |
| [Aluminum 7075-T6](https://www.makeitfrom.com/material-properties/7075-T6-Aluminum)          | 70e9     | 330e6          | 480e6          | 2710             |

## The Code
I coded this up as an optimation tool in Python using NLOPT, a library for nonlinear optimization. The code can be found [here]().

## Results